var Fe=Object.defineProperty;var se=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;var ue=(e,o,r)=>o in e?Fe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,V=(e,o)=>{for(var r in o||(o={}))Re.call(o,r)&&ue(e,r,o[r]);if(se)for(var r of se(o))Se.call(o,r)&&ue(e,r,o[r]);return e};import{b as Oe,d as X,av as I,_ as M,K as fe,A as me,E as ve,af as Pe,a as oe,n as De,M as Ne,ac as Be,s as Ke,w as ze,l as ge}from"./base.f9e60852.js";import{c as P,E as Le,O as Me,w as pe}from"./popper.819708f8.js";import{E as Ae}from"./scrollbar.0cfecbae.js";import{c as Ge,E as Ue,d as Ye,a as we,C as He,b as Ve,e as Je,f as je,g as We,F as qe,L as Qe}from"./dropdown.33c5c80f.js";import{u as Xe}from"./request.29c9df35.js";import{d as A,r as $,B as E,c as T,p as W,$ as Ze,q as U,u as O,w as he,i as N,a8 as w,a as D,b as Y,e as m,j as R,y as xe,au as eo,P as oo,D as no,Y as _e,f as q,E as ro,x as J,g as Z,k as x,m as to,l as lo,h as ee,F as io,n as ao}from"./index.f20a2340.js";import{c as Ie}from"./refs.0401272c.js";import{F as so}from"./focus-trap.7aeb3cb3.js";const uo=Oe({style:{type:X([String,Array,Object])},currentTabId:{type:X(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:X(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:po,ElCollectionItem:co,COLLECTION_INJECTION_KEY:ne,COLLECTION_ITEM_INJECTION_KEY:bo}=Ge("RovingFocusGroup"),re=Symbol("elRovingFocusGroup"),ye=Symbol("elRovingFocusGroupItem"),fo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},mo=(e,o)=>{if(o!=="rtl")return e;switch(e){case I.right:return I.left;case I.left:return I.right;default:return e}},vo=(e,o,r)=>{const t=mo(e.key,r);if(!(o==="vertical"&&[I.left,I.right].includes(t))&&!(o==="horizontal"&&[I.up,I.down].includes(t)))return fo[t]},go=(e,o)=>e.map((r,t)=>e[(t+o)%e.length]),te=e=>{const{activeElement:o}=document;for(const r of e)if(r===o||(r.focus(),o!==document.activeElement))return},ce="currentTabIdChange",be="rovingFocusGroup.entryFocus",wo={bubbles:!1,cancelable:!0},ho=A({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:uo,emits:[ce,"entryFocus"],setup(e,{emit:o}){var r;const t=$((r=e.currentTabId||e.defaultCurrentTabId)!=null?r:null),p=$(!1),u=$(!1),i=$(null),{getItems:d}=E(ne,void 0),c=T(()=>[{outline:"none"},e.style]),v=a=>{o(ce,a)},g=()=>{p.value=!0},h=P(a=>{var b;(b=e.onMousedown)==null||b.call(e,a)},()=>{u.value=!0}),y=P(a=>{var b;(b=e.onFocus)==null||b.call(e,a)},a=>{const b=!O(u),{target:B,currentTarget:k}=a;if(B===k&&b&&!O(p)){const K=new Event(be,wo);if(k==null||k.dispatchEvent(K),!K.defaultPrevented){const f=d().filter(F=>F.focusable),S=f.find(F=>F.active),_=f.find(F=>F.id===O(t)),L=[S,_,...f].filter(Boolean).map(F=>F.ref);te(L)}}u.value=!1}),n=P(a=>{var b;(b=e.onBlur)==null||b.call(e,a)},()=>{p.value=!1}),s=(...a)=>{o("entryFocus",...a)};W(re,{currentTabbedId:Ze(t),loop:U(e,"loop"),tabIndex:T(()=>O(p)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:c,orientation:U(e,"orientation"),dir:U(e,"dir"),onItemFocus:v,onItemShiftTab:g,onBlur:n,onFocus:y,onMousedown:h}),he(()=>e.currentTabId,a=>{t.value=a!=null?a:null}),Xe(i,be,s)}});function _o(e,o,r,t,p,u){return N(e.$slots,"default")}var Io=M(ho,[["render",_o],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const yo=A({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:po,ElRovingFocusGroupImpl:Io}});function Eo(e,o,r,t,p,u){const i=w("el-roving-focus-group-impl"),d=w("el-focus-group-collection");return D(),Y(d,null,{default:m(()=>[R(i,xe(eo(e.$attrs)),{default:m(()=>[N(e.$slots,"default")]),_:3},16)]),_:3})}var Co=M(yo,[["render",Eo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const $o=A({components:{ElRovingFocusCollectionItem:co},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:r,loop:t,onItemFocus:p,onItemShiftTab:u}=E(re,void 0),{getItems:i}=E(ne,void 0),d=fe(),c=$(null),v=P(n=>{o("mousedown",n)},n=>{e.focusable?p(O(d)):n.preventDefault()}),g=P(n=>{o("focus",n)},()=>{p(O(d))}),h=P(n=>{o("keydown",n)},n=>{const{key:s,shiftKey:a,target:b,currentTarget:B}=n;if(s===I.tab&&a){u();return}if(b!==B)return;const k=vo(n);if(k){n.preventDefault();let f=i().filter(S=>S.focusable).map(S=>S.ref);switch(k){case"last":{f.reverse();break}case"prev":case"next":{k==="prev"&&f.reverse();const S=f.indexOf(B);f=t.value?go(f,S+1):f.slice(S+1);break}}oo(()=>{te(f)})}}),y=T(()=>r.value===O(d));return W(ye,{rovingFocusGroupItemRef:c,tabIndex:T(()=>O(y)?0:-1),handleMousedown:v,handleFocus:g,handleKeydown:h}),{id:d,handleKeydown:h,handleFocus:g,handleMousedown:v}}});function To(e,o,r,t,p,u){const i=w("el-roving-focus-collection-item");return D(),Y(i,{id:e.id,focusable:e.focusable,active:e.active},{default:m(()=>[N(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var ko=M($o,[["render",To],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Q=Symbol("elDropdown"),{ButtonGroup:Fo}=me,Ro=A({name:"ElDropdown",components:{ElButton:me,ElButtonGroup:Fo,ElScrollbar:Ae,ElDropdownCollection:Ue,ElTooltip:Le,ElRovingFocusGroup:Co,ElOnlyChild:Me,ElIcon:ve,ArrowDown:Pe},props:Ye,emits:["visible-change","click","command"],setup(e,{emit:o}){const r=_e(),t=oe("dropdown"),{t:p}=De(),u=$(),i=$(),d=$(null),c=$(null),v=$(null),g=$(null),h=$(!1),y=[I.enter,I.space,I.down],n=T(()=>({maxHeight:Ne(e.maxHeight)})),s=T(()=>[t.m(f.value)]),a=fe().value,b=T(()=>e.id||a);he([u,U(e,"trigger")],([l,C],[G])=>{var de,ie,ae;const ke=Ke(C)?C:[C];(de=G==null?void 0:G.$el)!=null&&de.removeEventListener&&G.$el.removeEventListener("pointerenter",_),(ie=l==null?void 0:l.$el)!=null&&ie.removeEventListener&&l.$el.removeEventListener("pointerenter",_),((ae=l==null?void 0:l.$el)==null?void 0:ae.addEventListener)&&ke.includes("hover")&&l.$el.addEventListener("pointerenter",_)},{immediate:!0}),no(()=>{var l,C;(C=(l=u.value)==null?void 0:l.$el)!=null&&C.removeEventListener&&u.value.$el.removeEventListener("pointerenter",_)});function B(){k()}function k(){var l;(l=d.value)==null||l.onClose()}function K(){var l;(l=d.value)==null||l.onOpen()}const f=Be();function S(...l){o("command",...l)}function _(){var l,C;(C=(l=u.value)==null?void 0:l.$el)==null||C.focus()}function z(){}function L(){const l=O(c);l==null||l.focus(),g.value=null}function F(l){g.value=l}function le(l){h.value||(l.preventDefault(),l.stopImmediatePropagation())}function j(){o("visible-change",!0)}function H(l){(l==null?void 0:l.type)==="keydown"&&c.value.focus()}function Te(){o("visible-change",!1)}return W(Q,{contentRef:c,role:T(()=>e.role),triggerId:b,isUsingKeyboard:h,onItemEnter:z,onItemLeave:L}),W("elDropdown",{instance:r,dropdownSize:f,handleClick:B,commandHandler:S,trigger:U(e,"trigger"),hideOnClick:U(e,"hideOnClick")}),{t:p,ns:t,scrollbar:v,wrapStyle:n,dropdownTriggerKls:s,dropdownSize:f,triggerId:b,triggerKeys:y,currentTabId:g,handleCurrentTabIdChange:F,handlerMainButtonClick:l=>{o("click",l)},handleEntryFocus:le,handleClose:k,handleOpen:K,handleBeforeShowTooltip:j,handleShowTooltip:H,handleBeforeHideTooltip:Te,onFocusAfterTrapped:l=>{var C,G;l.preventDefault(),(G=(C=c.value)==null?void 0:C.focus)==null||G.call(C,{preventScroll:!0})},popperRef:d,contentRef:c,triggeringElementRef:u,referenceElementRef:i}}});function So(e,o,r,t,p,u){var i;const d=w("el-dropdown-collection"),c=w("el-roving-focus-group"),v=w("el-scrollbar"),g=w("el-only-child"),h=w("el-tooltip"),y=w("el-button"),n=w("arrow-down"),s=w("el-icon"),a=w("el-button-group");return D(),q("div",{class:Z([e.ns.b(),e.ns.is("disabled",e.disabled)])},[R(h,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(i=e.referenceElementRef)==null?void 0:i.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ro({content:m(()=>[R(v,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:m(()=>[R(c,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:m(()=>[R(d,null,{default:m(()=>[N(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:m(()=>[R(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:m(()=>[N(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(D(),Y(a,{key:0},{default:m(()=>[R(y,J({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:m(()=>[N(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),R(y,J({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:m(()=>[R(s,{class:Z(e.ns.e("icon"))},{default:m(()=>[R(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):x("v-if",!0)],2)}var Oo=M(Ro,[["render",So],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Po=A({name:"DropdownItemImpl",components:{ElIcon:ve},props:we,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const r=oe("dropdown"),{role:t}=E(Q,void 0),{collectionItemRef:p}=E(He,void 0),{collectionItemRef:u}=E(bo,void 0),{rovingFocusGroupItemRef:i,tabIndex:d,handleFocus:c,handleKeydown:v,handleMousedown:g}=E(ye,void 0),h=Ie(p,u,i),y=T(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),n=P(s=>{const{code:a}=s;if(a===I.enter||a===I.space)return s.preventDefault(),s.stopImmediatePropagation(),o("clickimpl",s),!0},v);return{ns:r,itemRef:h,dataset:{[Ve]:""},role:y,tabIndex:d,handleFocus:c,handleKeydown:n,handleMousedown:g}}}),Do=["aria-disabled","tabindex","role"];function No(e,o,r,t,p,u){const i=w("el-icon");return D(),q(io,null,[e.divided?(D(),q("li",J({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):x("v-if",!0),to("li",J({ref:e.itemRef},V(V({},e.dataset),e.$attrs),{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=d=>e.$emit("clickimpl",d)),onFocus:o[1]||(o[1]=(...d)=>e.handleFocus&&e.handleFocus(...d)),onKeydown:o[2]||(o[2]=ee((...d)=>e.handleKeydown&&e.handleKeydown(...d),["self"])),onMousedown:o[3]||(o[3]=(...d)=>e.handleMousedown&&e.handleMousedown(...d)),onPointermove:o[4]||(o[4]=d=>e.$emit("pointermove",d)),onPointerleave:o[5]||(o[5]=d=>e.$emit("pointerleave",d))}),[e.icon?(D(),Y(i,{key:0},{default:m(()=>[(D(),Y(lo(e.icon)))]),_:1})):x("v-if",!0),N(e.$slots,"default")],16,Do)],64)}var Bo=M(Po,[["render",No],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Ee=()=>{const e=E("elDropdown",{}),o=T(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},Ko=A({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Je,ElRovingFocusItem:ko,ElDropdownItemImpl:Bo},inheritAttrs:!1,props:we,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:r}){const{elDropdown:t}=Ee(),p=_e(),u=$(null),i=T(()=>{var n,s;return(s=(n=O(u))==null?void 0:n.textContent)!=null?s:""}),{onItemEnter:d,onItemLeave:c}=E(Q,void 0),v=P(n=>(o("pointermove",n),n.defaultPrevented),pe(n=>{if(e.disabled){c(n);return}const s=n.currentTarget;s===document.activeElement||s.contains(document.activeElement)||(d(n),n.defaultPrevented||s==null||s.focus())})),g=P(n=>(o("pointerleave",n),n.defaultPrevented),pe(n=>{c(n)})),h=P(n=>{if(!e.disabled)return o("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var s,a,b;if(e.disabled){n.stopImmediatePropagation();return}(s=t==null?void 0:t.hideOnClick)!=null&&s.value&&((a=t.handleClick)==null||a.call(t)),(b=t.commandHandler)==null||b.call(t,e.command,p,n)}),y=T(()=>V(V({},e),r));return{handleClick:h,handlePointerMove:v,handlePointerLeave:g,textContent:i,propsAndAttrs:y}}});function zo(e,o,r,t,p,u){var i;const d=w("el-dropdown-item-impl"),c=w("el-roving-focus-item"),v=w("el-dropdown-collection-item");return D(),Y(v,{disabled:e.disabled,"text-value":(i=e.textValue)!=null?i:e.textContent},{default:m(()=>[R(c,{focusable:!e.disabled},{default:m(()=>[R(d,J(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:m(()=>[N(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ce=M(Ko,[["render",zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Lo=A({name:"ElDropdownMenu",props:je,setup(e){const o=oe("dropdown"),{_elDropdownSize:r}=Ee(),t=r.value,{focusTrapRef:p,onKeydown:u}=E(so,void 0),{contentRef:i,role:d,triggerId:c}=E(Q,void 0),{collectionRef:v,getItems:g}=E(We,void 0),{rovingFocusGroupRef:h,rovingFocusGroupRootStyle:y,tabIndex:n,onBlur:s,onFocus:a,onMousedown:b}=E(re,void 0),{collectionRef:B}=E(ne,void 0),k=T(()=>[o.b("menu"),o.bm("menu",t==null?void 0:t.value)]),K=Ie(i,v,p,h,B),f=P(_=>{var z;(z=e.onKeydown)==null||z.call(e,_)},_=>{const{currentTarget:z,code:L,target:F}=_;if(z.contains(F),I.tab===L&&_.stopImmediatePropagation(),_.preventDefault(),F!==O(i)||!qe.includes(L))return;const j=g().filter(H=>!H.disabled).map(H=>H.ref);Qe.includes(L)&&j.reverse(),te(j)});return{size:t,rovingFocusGroupRootStyle:y,tabIndex:n,dropdownKls:k,role:d,triggerId:c,dropdownListWrapperRef:K,handleKeydown:_=>{f(_),u(_)},onBlur:s,onFocus:a,onMousedown:b}}}),Mo=["role","aria-labelledby"];function Ao(e,o,r,t,p,u){return D(),q("ul",{ref:e.dropdownListWrapperRef,class:Z(e.dropdownKls),style:ao(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...i)=>e.onBlur&&e.onBlur(...i)),onFocus:o[1]||(o[1]=(...i)=>e.onFocus&&e.onFocus(...i)),onKeydown:o[2]||(o[2]=ee((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:o[3]||(o[3]=ee((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[N(e.$slots,"default")],46,Mo)}var $e=M(Lo,[["render",Ao],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Zo=ze(Oo,{DropdownItem:Ce,DropdownMenu:$e}),xo=ge(Ce),en=ge($e);export{xo as E,en as a,Zo as b};
