var q=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,x=(e,o)=>{for(var t in o||(o={}))J.call(o,t)&&h(e,t,o[t]);if(B)for(var t of B(o))K.call(o,t)&&h(e,t,o[t]);return e},D=(e,o)=>G(e,H(o));import{b as T,H as Q,d as Y,I as j,J as W,K as P,L as X,M as R,O as ee,P as I,Q as oe}from"./base.f9e60852.js";import{U as E}from"./event.776e7e11.js";import{b as le}from"./index.b60e2a18.js";import{r as f,c as F,w as O,P as te,o as ne,Y as ae}from"./index.f20a2340.js";const se=T({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Q},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),de={close:()=>!0},ye=T(D(x({},se),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Y(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),ve={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>j(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},me=(e,o)=>{const n=ae().emit,{nextZIndex:p}=W();let C="";const k=P(),w=P(),a=f(!1),r=f(!1),c=f(!1),d=f(e.zIndex||p());let u,i;const S=X("namespace",ee),A=F(()=>{const l={},s=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(l[`${s}-margin-top`]=e.top),e.width&&(l[`${s}-width`]=R(e.width))),l}),M=F(()=>e.alignCenter?{display:"flex"}:{});function N(){n("opened")}function z(){n("closed"),n(E,!1),e.destroyOnClose&&(c.value=!1)}function L(){n("close")}function g(){i==null||i(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=I(()=>b(),e.openDelay):b()}function y(){u==null||u(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=I(()=>m(),e.closeDelay):m()}function v(){function l(s){s||(r.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(l):y()}function V(){e.closeOnClickModal&&v()}function b(){!oe||(a.value=!0)}function m(){a.value=!1}function U(){n("openAutoFocus")}function _(){n("closeAutoFocus")}function $(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}e.lockScroll&&le(a);function Z(){e.closeOnPressEscape&&v()}return O(()=>e.modelValue,l=>{l?(r.value=!1,g(),c.value=!0,d.value=e.zIndex?d.value++:p(),te(()=>{n("open"),o.value&&(o.value.scrollTop=0)})):a.value&&y()}),O(()=>e.fullscreen,l=>{!o.value||(l?(C=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=C)}),ne(()=>{e.modelValue&&(a.value=!0,c.value=!0,g())}),{afterEnter:N,afterLeave:z,beforeLeave:L,handleClose:v,onModalClick:V,close:y,doClose:m,onOpenAutoFocus:U,onCloseAutoFocus:_,onCloseRequested:Z,onFocusoutPrevented:$,titleId:k,bodyId:w,closed:r,style:A,overlayDialogStyle:M,rendered:c,visible:a,zIndex:d}};export{de as a,ye as b,ve as c,se as d,me as u};
