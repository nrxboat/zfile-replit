import{M as ee,ab as N,aZ as G,a_ as De,s as E,ae as D,a$ as j,b0 as X,j as Ke,N as L,b1 as O,b2 as He,t as We,a as le,Q as ze,ai as te,ak as Be,ah as Ge,aj as je,b as Xe,d as ne}from"./base.f9e60852.js";import{o as $e,ac as Ue,D as Ve,W as Pe,w as Qe,a1 as Ze,d as qe,j as Je,i as se,ab as ke}from"./index.f20a2340.js";import{a as Fe}from"./scroll.5771f43f.js";var Y=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Y||{});const Gt=(e,t,n)=>{let r={offsetX:0,offsetY:0};const s=c=>{const u=c.clientX,f=c.clientY,{offsetX:h,offsetY:p}=r,_=e.value.getBoundingClientRect(),P=_.left,Q=_.top,ye=_.width,xe=_.height,Ae=document.documentElement.clientWidth,Ce=document.documentElement.clientHeight,Le=-P+h,Oe=-Q+p,Ye=Ae-P-ye+h,Ne=Ce-Q-xe+p,Z=J=>{const k=Math.min(Math.max(h+J.clientX-u,Le),Ye),F=Math.min(Math.max(p+J.clientY-f,Oe),Ne);r={offsetX:k,offsetY:F},e.value.style.transform=`translate(${ee(k)}, ${ee(F)})`},q=()=>{document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",q)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",q)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",s)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",s)};$e(()=>{Ue(()=>{n.value?o():i()})}),Ve(()=>{i()})};let et;function tt(e,t=et){t&&t.active&&t.effects.push(e)}const $=e=>{const t=new Set(e);return t.w=0,t.n=0,t},de=e=>(e.w&w)>0,he=e=>(e.n&w)>0,nt=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=w},st=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];de(s)&&!he(s)?s.delete(e):t[n++]=s,s.w&=~w,s.n&=~w}t.length=n}},H=new WeakMap;let M=0,w=1;const W=30;let l;const S=Symbol(""),z=Symbol("");class rt{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,tt(this,r)}run(){if(!this.active)return this.fn();let t=l,n=v;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=l,l=this,v=!0,w=1<<++M,M<=W?nt(this):re(this),this.fn()}finally{M<=W&&st(this),w=1<<--M,l=this.parent,v=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){l===this?this.deferStop=!0:this.active&&(re(this),this.onStop&&this.onStop(),this.active=!1)}}function re(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let v=!0;const pe=[];function ot(){pe.push(v),v=!1}function it(){const e=pe.pop();v=e===void 0?!0:e}function d(e,t,n){if(v&&l){let r=H.get(e);r||H.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=$()),_e(s)}}function _e(e,t){let n=!1;M<=W?he(e)||(e.n|=w,n=!de(e)):n=!e.has(l),n&&(e.add(l),l.deps.push(e))}function b(e,t,n,r,s,o){const i=H.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&E(e))i.forEach((u,f)=>{(f==="length"||f>=r)&&c.push(u)});else switch(n!==void 0&&c.push(i.get(n)),t){case"add":E(e)?X(n)&&c.push(i.get("length")):(c.push(i.get(S)),O(e)&&c.push(i.get(z)));break;case"delete":E(e)||(c.push(i.get(S)),O(e)&&c.push(i.get(z)));break;case"set":O(e)&&c.push(i.get(S));break}if(c.length===1)c[0]&&B(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);B($(u))}}function B(e,t){const n=E(e)?e:[...e];for(const r of n)r.computed&&oe(r);for(const r of n)r.computed||oe(r)}function oe(e,t){(e!==l||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ct=He("__proto__,__v_isRef,__isVue"),me=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(j)),at=Ee(),ut=Ee(!0),ie=ft();function ft(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=a(this);for(let o=0,i=this.length;o<i;o++)d(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(a)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ot();const r=a(this)[t].apply(this,n);return it(),r}}),e}function Ee(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(e?t?It:be:t?Rt:we).get(r))return r;const i=E(r);if(!e&&i&&D(ie,s))return Reflect.get(ie,s,o);const c=Reflect.get(r,s,o);return(j(s)?me.has(s):ct(s))||(e||d(r,"get",s),t)?c:T(c)?i&&X(s)?c:c.value:N(c)?e?Te(c):Se(c):c}}const lt=dt();function dt(e=!1){return function(n,r,s,o){let i=n[r];if(g(i)&&T(i)&&!T(s))return!1;if(!e&&!g(s)&&(At(s)||(s=a(s),i=a(i)),!E(n)&&T(i)&&!T(s)))return i.value=s,!0;const c=E(n)&&X(r)?Number(r)<n.length:D(n,r),u=Reflect.set(n,r,s,o);return n===a(o)&&(c?G(s,i)&&b(n,"set",r,s):b(n,"add",r,s)),u}}function ht(e,t){const n=D(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&b(e,"delete",t,void 0),r}function pt(e,t){const n=Reflect.has(e,t);return(!j(t)||!me.has(t))&&d(e,"has",t),n}function _t(e){return d(e,"iterate",E(e)?"length":S),Reflect.ownKeys(e)}const mt={get:at,set:lt,deleteProperty:ht,has:pt,ownKeys:_t},Et={get:ut,set(e,t){return!0},deleteProperty(e,t){return!0}},U=e=>e,K=e=>Reflect.getPrototypeOf(e);function I(e,t,n=!1,r=!1){e=e.__v_raw;const s=a(e),o=a(t);n||(t!==o&&d(s,"get",t),d(s,"get",o));const{has:i}=K(s),c=r?U:n?V:R;if(i.call(s,t))return c(e.get(t));if(i.call(s,o))return c(e.get(o));e!==s&&e.get(t)}function y(e,t=!1){const n=this.__v_raw,r=a(n),s=a(e);return t||(e!==s&&d(r,"has",e),d(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function x(e,t=!1){return e=e.__v_raw,!t&&d(a(e),"iterate",S),Reflect.get(e,"size",e)}function ce(e){e=a(e);const t=a(this);return K(t).has.call(t,e)||(t.add(e),b(t,"add",e,e)),this}function ae(e,t){t=a(t);const n=a(this),{has:r,get:s}=K(n);let o=r.call(n,e);o||(e=a(e),o=r.call(n,e));const i=s.call(n,e);return n.set(e,t),o?G(t,i)&&b(n,"set",e,t):b(n,"add",e,t),this}function ue(e){const t=a(this),{has:n,get:r}=K(t);let s=n.call(t,e);s||(e=a(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&b(t,"delete",e,void 0),o}function fe(){const e=a(this),t=e.size!==0,n=e.clear();return t&&b(e,"clear",void 0,void 0),n}function A(e,t){return function(r,s){const o=this,i=o.__v_raw,c=a(i),u=t?U:e?V:R;return!e&&d(c,"iterate",S),i.forEach((f,h)=>r.call(s,u(f),u(h),o))}}function C(e,t,n){return function(...r){const s=this.__v_raw,o=a(s),i=O(o),c=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,f=s[e](...r),h=n?U:t?V:R;return!t&&d(o,"iterate",u?z:S),{next(){const{value:p,done:_}=f.next();return _?{value:p,done:_}:{value:c?[h(p[0]),h(p[1])]:h(p),done:_}},[Symbol.iterator](){return this}}}}function m(e){return function(...t){return e==="delete"?!1:this}}function vt(){const e={get(o){return I(this,o)},get size(){return x(this)},has:y,add:ce,set:ae,delete:ue,clear:fe,forEach:A(!1,!1)},t={get(o){return I(this,o,!1,!0)},get size(){return x(this)},has:y,add:ce,set:ae,delete:ue,clear:fe,forEach:A(!1,!0)},n={get(o){return I(this,o,!0)},get size(){return x(this,!0)},has(o){return y.call(this,o,!0)},add:m("add"),set:m("set"),delete:m("delete"),clear:m("clear"),forEach:A(!0,!1)},r={get(o){return I(this,o,!0,!0)},get size(){return x(this,!0)},has(o){return y.call(this,o,!0)},add:m("add"),set:m("set"),delete:m("delete"),clear:m("clear"),forEach:A(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=C(o,!1,!1),n[o]=C(o,!0,!1),t[o]=C(o,!1,!0),r[o]=C(o,!0,!0)}),[e,n,t,r]}const[wt,bt,St,Tt]=vt();function ve(e,t){const n=t?e?Tt:St:e?bt:wt;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(D(n,s)&&s in r?n:r,s,o)}const Mt={get:ve(!1,!1)},gt={get:ve(!0,!1)},we=new WeakMap,Rt=new WeakMap,be=new WeakMap,It=new WeakMap;function yt(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xt(e){return e.__v_skip||!Object.isExtensible(e)?0:yt(De(e))}function Se(e){return g(e)?e:Me(e,!1,mt,Mt,we)}function Te(e){return Me(e,!0,Et,gt,be)}function Me(e,t,n,r,s){if(!N(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=xt(e);if(i===0)return e;const c=new Proxy(e,i===2?r:n);return s.set(e,c),c}function ge(e){return g(e)?ge(e.__v_raw):!!(e&&e.__v_isReactive)}function g(e){return!!(e&&e.__v_isReadonly)}function At(e){return!!(e&&e.__v_isShallow)}function jt(e){return ge(e)||g(e)}function a(e){const t=e&&e.__v_raw;return t?a(t):e}const R=e=>N(e)?Se(e):e,V=e=>N(e)?Te(e):e;function Re(e){v&&l&&(e=a(e),_e(e.dep||(e.dep=$())))}function Ie(e,t){e=a(e),e.dep&&B(e.dep)}function T(e){return!!(e&&e.__v_isRef===!0)}function Xt(e){return Ct(e,!1)}function Ct(e,t){return T(e)?e:new Lt(e,t)}class Lt{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:a(t),this._value=n?t:R(t)}get value(){return Re(this),this._value}set value(t){t=this.__v_isShallow?t:a(t),G(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:R(t),Ie(this))}}class Ot{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new rt(t,()=>{this._dirty||(this._dirty=!0,Ie(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=a(this);return Re(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Yt(e,t,n=!1){let r,s;const o=Ke(e);return o?(r=e,s=L):(r=e.get,s=e.set),new Ot(r,s,o||!s,n)}const $t=e=>{Pe(e)||We("[useLockscreen]","You need to pass a ref param to this function");const t=le("popup"),n=Yt(()=>t.bm("parent","hidden"));if(!ze||te(document.body,n.value))return;let r=0,s=!1,o="0";const i=()=>{setTimeout(()=>{je(document==null?void 0:document.body,n.value),s&&document&&(document.body.style.width=o)},200)};Qe(e,c=>{if(!c){i();return}s=!te(document.body,n.value),s&&(o=document.body.style.width),r=Fe(t.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,f=Be(document.body,"overflowY");r>0&&(u||f==="scroll")&&s&&(document.body.style.width=`calc(100% - ${r}px)`),Ge(document.body,n.value)}),Ze(()=>i())},Nt=e=>{if(!e)return{onClick:L,onMousedown:L,onMouseup:L};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},Dt=Xe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ne([String,Array,Object])},zIndex:{type:ne([String,Number])}}),Kt={click:e=>e instanceof MouseEvent};var Ht=qe({name:"ElOverlay",props:Dt,emits:Kt,setup(e,{slots:t,emit:n}){const r=le("overlay"),s=u=>{n("click",u)},{onClick:o,onMousedown:i,onMouseup:c}=Nt(e.customMaskEvent?void 0:s);return()=>e.mask?Je("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:c},[se(t,"default")],Y.STYLE|Y.CLASS|Y.PROPS,["onClick","onMouseup","onMousedown"]):ke("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[se(t,"default")])}});const Ut=Ht;export{Ut as E,rt as R,Nt as a,$t as b,At as c,ge as d,jt as e,Xt as f,T as i,ot as p,it as r,Gt as u};
